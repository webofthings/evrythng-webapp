<link rel="import" href="../bower_components/core-icons/core-icons.html">
<link rel="import" href="../bower_components/paper-fab/paper-fab.html">
<link rel="import" href="../bower_components/topeka-elements/category-images.html">
<link rel="import" href="../bower_components/core-animated-pages/transitions/cross-fade.html">
<link rel="import" href="../bower_components/core-animated-pages/transitions/slide-up.html">
<link rel="import" href="../bower_components/core-animated-pages/transitions/hero-transition.html">

<polymer-element name="login-page" attributes="user app" vertical layout>
  <template>

    <link rel="stylesheet" href="login-page.css">

    <div class="welcome" flex vertical layout hero-id="header" hero>

      <div cross-fade hidden?="{{user}}" class="splash" flex two relative>
        <core-icon icon="category-images:music" fit></core-icon>
      </div>

      <div cross-fade hidden?="{{user}}" class="headline {{ {wide: wide} | tokenList }}" flex>
        <h4>Local Remote Controller</h4>
        <div>Control your devices locally over your wireless network. Or remotely over the internet.</div>
      </div>

    </div>

    <paper-fab slide-up src="f.png" on-tap="{{loginWithFacebook}}"></paper-fab>

    <core-media-query query="min-width: {{responsiveWidth}}" queryMatches="{{wide}}"></core-media-query>

  </template>
  <script>
    Polymer('login-page', {

      responsiveWidth: '640px',

      loginWithFacebook: function () {
        var $this = this;

        /*this.app.login('facebook').then(function (authResponse) {
          $this.user = authResponse.user;
          console.log('User logged in:', $this.user);
        });*/

        $this.user = new EVT.User({
          id: 'UDwVcpeRsBpa2KtCXRtN3cWa',
          apiKey: 'LbL3NUSn0AQ6uwOtEfKd0GH1Th6fGxZL5Xr9Bz8f7G6f7PMCroULw6px5uzuxDsYEVySTcTsBzlAOgbp'
        }, $this.app);

        $this.user.facebook = {
          photo: 'https://fbcdn-profile-a.akamaihd.net/hprofile-ak-xpf1/v/t1.0-1/p50x50/11903934_' +
          '1481002198887411_373819594593573577_n.jpg?oh=9b0ab86f4a93e7b4add3fbc8fd2fd073&oe=569603A0&' +
          '__gda__=1449019403_106e2cc807bdeb3167e57f498dd1e9ef',
          first_name: 'George',
          last_name: 'Generic'
        };
      }

    });
  </script>
</polymer-element>
